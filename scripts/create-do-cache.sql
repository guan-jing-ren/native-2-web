R"(
CREATE TRIGGER IF NOT EXISTS DO_CACHE AFTER INSERT ON
  FSDUMP_CACHED FOR EACH ROW
  BEGIN
    INSERT OR REPLACE INTO FSPARENTS_CACHED (PARENT)
      SELECT
        NEW.PARENT;

    INSERT OR REPLACE INTO FSFILES_CACHED (
      STEM,
      EXTENSION
    )
    SELECT
      NEW.STEM,
      NEW.EXTENSION;

    INSERT INTO FSSTATS_CACHED (
      FILEID,
      FILESIZE,
      MODDATE,
      FILETYPE,
      MIMETYPE,
      PERMISSIONS
    )
    SELECT
      last_insert_rowid(),
      NEW.FILESIZE,
      NEW.MODDATE,
      NEW.FILETYPE,
      NEW.MIMETYPE,
      NEW.PERMISSIONS;

    INSERT OR REPLACE INTO CONCORDANCE (PARENT, FILEID)
      SELECT
        NEW.PARENT,
        last_insert_rowid();
  END
)"
